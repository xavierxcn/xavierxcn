# 提案：重构装修预算助手 - 灵活项目与总价模式

## Why

当前装修预算助手存在以下问题：

1. **预设项目不够灵活**：用户被迫看到所有预设项目，但实际装修中每个人的需求差异很大，预设项目反而成为干扰。

2. **缺少总价输入模式**：装修公司通常会报一个总单价（如半包 500元/平米），用户需要手动拆分到各个项目，非常繁琐。

3. **设计阶段不完整**：设计费目前只在全案模式显示，但实际上任何装修方式都可能涉及设计（即使是免费设计也应该记录）。

## What Changes

### 1. 灵活项目管理

- **移除所有预设项目**：各工程阶段默认为空，用户按需添加
- **智能项目建议**：输入项目名称时显示常用项目下拉列表供选择
- **支持自定义项目**：用户可输入下拉列表中没有的自定义项目名称
- **保留阶段分类**：工程阶段（设计、拆改、水电、瓦工、木工、油漆、主材、全屋定制、家具家电、软装）保持不变

### 2. 总单价模式

新增"快捷报价"功能，用户可输入装修方式的总单价：

| 装修方式 | 总价覆盖阶段 |
|---------|-------------|
| 清包 | 基装人工（拆改、水电、瓦工、木工、油漆） |
| 半包 | 基装部分（拆改、水电、瓦工、木工、油漆） |
| 全包 | 硬装部分（基装 + 主材） |
| 全案 | 全案部分（设计 + 硬装 + 全屋定制） |

- 输入总单价后，自动计算：`面积 × 单价 = 总价`
- 总价与明细输入可以同时存在，汇总时分别显示

### 3. 设计阶段统一显示

- **所有模式均显示设计阶段**：设计阶段始终在最顶部
- **即使免费也显示**：用户可输入 0 元表示免费设计

## 技术实现

### 数据结构变更

```javascript
// 移除 items 数组中的预设项目，改为建议列表
const budgetCategories = {
    design: {
        name: '设计',
        suggestions: ['设计费', '效果图', '施工图', '量房费'],
        // items 改为空数组，用户动态添加
    },
    // ...
};

// 新增快捷报价数据
quickQuote: {
    enabled: false,
    unitPrice: 0,  // 元/平米
    coverageByMode: {
        qingbao: ['demolition', 'plumbing', 'tiling', 'carpentry', 'painting'],
        banbao: ['demolition', 'plumbing', 'tiling', 'carpentry', 'painting'],
        quanbao: ['demolition', 'plumbing', 'tiling', 'carpentry', 'painting', 'materials'],
        quanan: ['design', 'demolition', 'plumbing', 'tiling', 'carpentry', 'painting', 'materials', 'customFurniture']
    }
}
```

### 用户界面变更

1. **项目输入改为带建议的输入框**：类似搜索框的自动补全
2. **新增快捷报价区域**：在设置面板中，输入单价后显示覆盖范围和计算结果
3. **汇总区域**：分别显示"快捷报价"和"明细合计"

## 用户体验

1. **新用户**：可以快速输入总单价，得到预算总额
2. **详细用户**：可以逐项添加，精确控制每一笔费用
3. **混合使用**：部分使用快捷报价，部分手动添加明细
