[
  {
    "slug": "building-effective-agents",
    "url": "posts/building-effective-agents/",
    "title": "重温《Building Effective Agents》",
    "summary": "轻流程，重智能，强观测——我对 Agent 开发的一点思考",
    "content": "最近又翻了一遍 Anthropic 的 Building Effective Agents。这篇文章是 2024 年底发布的，由 Erik Schluntz 和 Barry Zhang 撰写，是他们和几十个团队合作做 Agent 之后的经验总结。时隔一段时间再读，有了一些新的体会。\n原文概览\n文章首先定义了 Agentic Systems（智能体系统） 这个大概念，然后把它分成两类：\nWorkflow vs Agent\n\nWorkflow：多个 LLM 按照预定义的流程协作，人来设计路径\nAgent：LLM 自主决定下一步做什么、用什么工具、何时停止\n\n两者的核心区别在于自主程度。Workflow 跑在预设的轨道上，Agent 则拥有更高的自由度。\n五种 Workflow 模式\n文章详细介绍了五种构建 Workflow 的模式：\n模式说明典型场景\nPrompt Chaining将任务拆成多个步骤，前一步的输出作为后一步的输入先生成文档，再翻译成另一种语言\nRouting第一个 LLM 调用决定后续走哪条分支根据用户问题类型分发给不同的专业模型\nParallelization任务拆分后并行处理，或通过投票机制聚合结果多模型同时评估，取多数意见\nOrchestrator-Workers编排器触发多个 Worker，最后综合结果复杂任务分解给多个子任务处理器\nEvaluator-Optimizer一个模型生成，另一个模型评估，循环优化代码生成后自动测试并修复\n\nAgent 模式\n相比 Workflow 的预定义路径，Agent 模式让 LLM 自己决定执行流程。它的基础构建块是 Augmented LLM——一个增强了检索、工具调用、记忆能力的语言模型。\n核心建议\n文章反复强调几个原则：\n\n简单优先：能用简单方案就不要上复杂系统\n谨慎使用框架：框架容易增加不必要的抽象层，建议先用原生 API\n工具质量决定上限：在 SWE-bench 上，他们花在优化工具的时间比优化 prompt 还多\n\n\nSuccess isn't about building the most sophisticated system. It's about building the right system for your needs.\n\n\n这些内容都很实用。但读完之后，我脑子里一直在转一个问题：我们真的需要那么多\"流程\"吗？\n为什么我们总想设计\"流程\"？\n大概是程序员的本能吧——遇到问题就想设计一套系统来解决它。看到 AI 会犯错，第一反应是\"我来加个检查点\"；看到任务复杂，第一反应是\"我来拆成几个步骤\"。\n但这种思路有个隐含假设：我们比 AI 更懂这个任务应该怎么做。\n在模型能力还比较弱的时候，这个假设是成立的。我们确实需要用代码来\"兜住\" AI，防止它跑偏。\n但现在呢？模型越来越强，很多时候它对任务的理解已经不比我们差了。这时候如果还坚持用硬编码的流程去约束它，反而可能适得其反——就像给一个有经验的员工写一份事无巨细的操作手册，既没必要，又限制了他发挥。\n轻流程，重工具\n我现在越来越倾向于另一种思路：少设计流程，多打磨工具。\n与其花时间想\"第一步做什么、第二步做什么、遇到什么情况走哪个分支\"，不如把精力放在：给 AI 提供一套好用的工具，然后让它自己决定怎么组合使用。\n文章里有一句话我印象很深：\n\n在 SWE-bench 上，我们花在优化工具的时间比优化 prompt 还多。\n\n这说明什么？工具的质量，直接决定了 Agent 的能力上限。\n一个设计良好的工具，AI 拿起来就能用对。一个设计糟糕的工具，你再怎么在 prompt 里强调\"小心使用\"，它还是会出错。\n文章举了个例子：他们发现 Agent 在相对路径上老是搞错，后来改成强制使用绝对路径，问题就没了。这不是靠更复杂的流程解决的，而是靠更好的工具设计。\nMCP 和 Skill：工具的两种形态\n说到工具，现在有两种主流的提供方式：\n一种是 MCP（Model Context Protocol），Anthropic 自己推的标准。它定义了一套协议，让不同的工具可以用统一的方式接入 AI。\n另一种是 Skill，更像是一段预定义的能力，AI 可以在需要的时候调用。\n形式不重要，重要的是：把工具做得足够好，足够稳定，足够清晰。接口要直观，行为要可预期，文档要完善。做到这些，剩下的交给 AI 自己来决定就好了。\n一点实践感受\n最近在用 Claude Code 写代码，感受挺明显的。\n它有很多内置的工具——读文件、写文件、搜索、执行命令、调用 MCP 服务等等。作为用户，我不需要告诉它\"先搜索相关代码，再读取文件，再分析，再修改\"——我只要说清楚我想要什么，它自己就会决定该怎么做。\n有时候它的做法和我预想的不",
    "tags": [
      "AI",
      "Agent",
      "LLM"
    ],
    "date": "2026-01-18"
  },
  {
    "slug": "hello-world",
    "url": "posts/hello-world/",
    "title": "你好，世界",
    "summary": "关于这个博客",
    "content": "开一个博客，记录一些想法。\n会写些什么\n主要是三类内容：\nAI 相关 — 最近在折腾 AI 应用开发，会记录一些学习笔记、踩坑经验、读论文/博客的感想。不是那种很学术的分析，更多是个人视角的理解和思考。\n技术杂谈 — 工作中遇到的有意思的问题，或者业余捣鼓的小项目。Rust、Go、前端、后端，什么都可能写一点。\n随便聊聊 — 读书、观影、生活，偶尔也想写点和技术无关的东西。\n为什么写博客\n一是整理思路。很多东西以为自己懂了，写下来才发现漏洞百出。写作是检验理解的好方法。\n二是留个记录。过几年回头看，可能会觉得当时的想法很幼稚，但那也是成长的痕迹。\n三是也许能帮到别人。我自己学东西的时候，经常受益于别人的博客。如果我写的东西偶尔也能帮到谁，那就更好了。\n关于这个网站\n这个博客是用 Rust 写的静态网站生成器构建的，算是一个 side project。没用现成的框架，纯粹是想练练手。\n代码在 GitHub 上，有兴趣可以看看。\n\n就这样，开始写吧。\n",
    "tags": [
      "随笔"
    ],
    "date": "2024-01-17"
  }
]